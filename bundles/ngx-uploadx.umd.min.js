!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-uploadx",["exports","rxjs","rxjs/operators","@angular/core"],t):t(e["ngx-uploadx"]={},e.rxjs,e.rxjs.operators,e.ng.core)}(this,function(e,s,r,o){"use strict";var i={NotFound:0,Auth:1,Retryable:2,Fatal:3};i[i.NotFound]="NotFound",i[i.Auth]="Auth",i[i.Retryable]="Retryable",i[i.Fatal]="Fatal";var t={maxAttempts:8,shouldRestartCodes:[404,410],authErrorCodes:[401],shouldRetryCodes:[423,429],minDelay:500,maxDelay:5e4},a=(n.prototype.kind=function(e){return this.attempts++,this.attempts>this.config.maxAttempts?i.Fatal:-1!==this.config.authErrorCodes.indexOf(e)?i.Auth:-1!==this.config.shouldRestartCodes.indexOf(e)?i.NotFound:e<400||500<=e||-1!==this.config.shouldRetryCodes.indexOf(e)?i.Retryable:i.Fatal},n.prototype.wait=function(){var t,n=this,r=Math.min(Math.pow(2,this.attempts-1)*this.config.minDelay,this.config.maxDelay)+Math.floor(Math.random()*this.config.minDelay);return new Promise(function(e){n.cancel=function(){clearTimeout(t),e()},t=setTimeout(n.cancel,r)})},n.prototype.reset=function(){this.attempts=0},n);function n(e){void 0===e&&(e={}),this.attempts=0,this.cancel=function(){},this.config=Object.assign({},t,e)}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return(p=Object.assign||function p(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t,a,u){return new(a=a||Promise)(function(n,r){function o(e){try{s(u.next(e))}catch(t){r(t)}}function i(e){try{s(u["throw"](e))}catch(t){r(t)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,i)}s((u=u.apply(e,t||[])).next())})}function h(n,r){var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return u([t,e])}}function u(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&e[0]?i["return"]:e[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return s}function f(){return new XMLHttpRequest}var y=(v.prototype.getResponseHeaders=function(e){return e.getAllResponseHeaders().split(/[\r\n]+/).reduce(function(e,t){var n=d(t.split(": "),2),t=n[0],n=n[1];return t&&(e[t.toLowerCase()]=n),e},{})},v.prototype.getResponseBody=function(e,t){var n="response"in e?e.response:e.responseText;if(n&&t&&"string"==typeof n)try{n=JSON.parse(n)}catch(r){}return n},v);function v(e){var h=this;this.buildXhr=e,this.request=function(e){var t=e.method,r=void 0===t?"GET":t,n=e.data,o=void 0===n?null:n,t=e.headers,i=void 0===t?{}:t,s=e.url,a=e.responseType,n=e.canceler,u=e.onUploadProgress,t=e.withCredentials,c=void 0!==t&&t,e=e.validateStatus,p=void 0===e?function(e){return e<400&&200<=e}:e,l=h.buildXhr();return n&&(n.onCancel=function(){return l&&l.readyState!==l.DONE&&l.abort()}),new Promise(function(t,n){l.open(r,s,!0),c&&(l.withCredentials=!0),a&&(l.responseType=a),"json"!==a||i.Accept||(i.Accept="application/json"),Object.keys(i).forEach(function(e){return l.setRequestHeader(e,String(i[e]))}),l.upload.onprogress=u||null,l.onerror=l.ontimeout=l.onabort=function(e){return n({error:e.type,url:s,method:r})},l.onload=function(){var e={data:h.getResponseBody(l,"json"===a),status:l.status,headers:h.getResponseHeaders(l)};return(p(e.status)?t:n)(e)},l.send(o)})}}var g=new o.InjectionToken("uploadx.ajax",{factory:function(){return new y(f)},providedIn:"root"}),m=(b.prototype.cancel=function(){this.onCancel(),this.onCancel=function(){}},b);function b(){this.onCancel=function(){}}var w=(x.prototype.set=function(e,t){localStorage.setItem(this.prefix+e,t)},x.prototype.get=function(e){return localStorage.getItem(this.prefix+e)},x.prototype["delete"]=function(e){localStorage.removeItem(this.prefix+e)},x);function x(){this.prefix="UPLOADX-V3.0-"}var O=new("undefined"!=typeof window&&"localStorage"in window?w:Map);function S(e,t){return(e.match(t)||[])[0]||""}function j(e,t){return e.indexOf("https://")*e.indexOf("http://")==0?e:0===e.indexOf("//")?S(t,/^(https?:)/)+e:0===e.indexOf("/")?S(t,/^(?:https?:)?(?:\/\/)?([^\/\?]+)/)+e:S(t,/^(?:https?:)?(?:\/\/)?([^\/\?]+)?(.*\/)/)+e}function T(e,t){return e instanceof Function?e(t):e}var C=function(t,e){var n={};return e.forEach(function(e){return n[e]=t[e]}),n};function I(e){return e===Number(e)}function R(e){for(var t=2166136261,n=e.length,r=0;r<n;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}var z={encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number.parseInt(t,16))}))},decode:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},serialize:function(t){return Object.keys(t).map(function(e){return e+" "+z.encode(String(t[e]))}).toString()},parse:function(e){var t,n,r=e.split(",").map(function(e){return e.split(" ")}),o=Object.create(null);try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),s=i.next();!s.done;s=i.next()){var a=d(s.value,2),u=a[0],a=a[1];o[u]=z.decode(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i["return"])&&n.call(i)}finally{if(t)throw t.error}}return o}},k=(F.scale=function(e){e=F.size/e;return e<F.minChunkTime&&(F.size=Math.min(F.maxSize,2*F.size)),F.size=F.maxChunkTime<e?Math.max(F.minSize,F.size/2):F.size},F.maxSize=Number.MAX_SAFE_INTEGER,F.minSize=262144,F.size=1048576,F.minChunkTime=2,F.maxChunkTime=8,F);function F(){}var P={pause:"paused",upload:"queue",cancel:"cancelled"},q=(Object.defineProperty(E.prototype,"url",{get:function(){return this._url||O.get(this.uploadId)||""},set:function(e){this._url!==e&&O.set(this.uploadId,e),this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"status",{get:function(){return this._status},set:function(e){"cancelled"===this._status||"complete"===this._status&&"cancelled"!==e||e!==this._status&&("retry"===this.status&&this.retry.cancel(),"paused"===(this._status=e)&&this.abort(),-1!==["cancelled","complete","error"].indexOf(e)&&this.cleanup(),"cancelled"===e?this.cancel():this.stateChange(this))},enumerable:!0,configurable:!0}),E.prototype.configure=function(e){var t=e.metadata,n=e.headers,r=e.token,o=e.endpoint,e=e.action;o&&(this.endpoint=o),r&&(this.token=r),t&&Object.assign(this.metadata,T(t,this.file)),n&&Object.assign(this.headers,T(n,this.file)),e&&(this.status=P[e])},E.prototype.upload=function(){return l(this,void 0,void 0,function(){var t,n,r,o;return h(this,function(e){switch(e.label){case 0:return this._status="uploading",this.startTime=(new Date).getTime(),[4,this.updateToken()];case 1:e.sent(),e.label=2;case 2:if("uploading"!==this.status&&"retry"!==this.status)return[3,19];this.status="uploading",e.label=3;case 3:return e.trys.push([3,10,,18]),(n=(t=this).url)?[3,5]:[4,this.getFileUrl()];case 4:n=e.sent(),e.label=5;case 5:return t.url=n,r=this,I(this.offset)?[4,this.sendFileContent()]:[3,7];case 6:return o=e.sent(),[3,9];case 7:return[4,this.getOffset()];case 8:o=e.sent(),e.label=9;case 9:return r.offset=o,this.retry.reset(),this.offset===this.size&&(this.remaining=0,this.progress=100,this.status="complete"),[3,18];case 10:if((o=e.sent())instanceof Error&&console.error(o),"uploading"!==this.status)return[2];switch(this.retry.kind(this.responseStatus)){case i.Fatal:return[3,11];case i.NotFound:return[3,12];case i.Auth:return[3,13]}return[3,15];case 11:return this.status="error",[2];case 12:return this.url="",[3,17];case 13:return[4,this.updateToken()];case 14:return e.sent(),[3,17];case 15:return 400<=this.responseStatus&&(this.offset=undefined),this.status="retry",[4,this.retry.wait()];case 16:e.sent(),e.label=17;case 17:return[3,18];case 18:return[3,2];case 19:return[2]}})})},E.prototype.request=function(s){return l(this,void 0,void 0,function(){var t,n,r,o,i;return h(this,function(e){switch(e.label){case 0:return this.responseStatus=0,this.response=null,this.responseHeaders={},t={body:s.body||null,canceler:this.canceler,headers:p({},this.headers,s.headers),method:s.method||"GET",url:s.url||this.url},[4,this._authorize(t,this._token)];case 1:return t=e.sent(),[4,this._prerequest(t)];case 2:return i=e.sent()||t,o=i.body,n=void 0===o?null:o,r=i.headers,o=i.method,i=i.url,i=void 0===i?t.url:i,i={method:o,headers:p({},t.headers,r),url:i,data:n,responseType:this.responseType,withCredentials:!!this.options.withCredentials,canceler:this.canceler,validateStatus:function(){return!0}},n&&"string"!=typeof n&&(i.onUploadProgress=this.onProgress()),[4,this.ajax.request(i)];case 3:return i=e.sent(),this.response=i.data,this.responseHeaders=i.headers,this.responseStatus=i.status,400<=i.status?[2,Promise.reject()]:[2]}})})},E.prototype.abort=function(){this.offset=undefined,this.canceler.cancel()},E.prototype.cancel=function(){return l(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return this.abort(),this.url?[4,this.request({method:"DELETE"})["catch"](function(){})]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.stateChange(this),[2]}})})},E.prototype.getValueFromResponse=function(e){return this.responseHeaders[e.toLowerCase()]||null},E.prototype.getChunk=function(){this.chunkSize=I(this.options.chunkSize)?this.chunkSize:k.size;var e=this.offset||0,t=Math.min(e+this.chunkSize,this.size);return{start:e,end:t,body:this.file.slice(this.offset,t)}},E.prototype.onProgress=function(){var n,r=this;return function(e){var t=e.loaded,e=(new Date).getTime(),t=r.offset+t,e=(e-r.startTime)/1e3;r.speed=Math.round(t/e),k.scale(r.speed),n||(n=setTimeout(function(){return n=undefined},500),r.progress=+(t/r.size*100).toFixed(2),r.remaining=Math.ceil((r.size-t)/r.speed),r.stateChange(r))}},E);function E(e,t,n,r){var o=this;this.file=e,this.options=t,this.stateChange=n,this.ajax=r,this.response=null,this.responseStatus=0,this.responseHeaders={},this.headers={},this.endpoint="/upload",this.offset=0,this.canceler=new m,this._url="",this.updateToken=function(){return l(o,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=this,[4,T(this.token||"",this.responseStatus)];case 1:return t._token=e.sent(),[2]}})})},this.cleanup=function(){return O["delete"](o.uploadId)},this.retry=new a(t.retryConfig),this.name=e.name,this.size=e.size,this.metadata={name:e.name,mimeType:e.type||"application/octet-stream",size:e.size,lastModified:e.lastModified||e.lastModifiedDate.getTime()},this.chunkSize=t.chunkSize||this.size,this._prerequest=t.prerequest||function(e){return e},this._authorize=t.authorize||function(e){return e},this.configure(t)}var D,_=(c(A,D=q),A.prototype.getFileUrl=function(){return l(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=z.serialize(this.metadata),t={"Upload-Length":""+this.size,"Upload-Metadata":""+t},[4,this.request({method:"POST",url:this.endpoint,headers:t})];case 1:if(e.sent(),!(t=this.getValueFromResponse("location")))throw new Error("Invalid or missing Location header");return this.offset=201===this.responseStatus?0:undefined,[2,j(t,this.endpoint)]}})})},A.prototype.sendFileContent=function(){return l(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return t=this.getChunk().body,n={"Content-Type":"application/offset+octet-stream","Upload-Offset":""+this.offset},[4,this.request({method:"PATCH",body:t,headers:n})];case 1:return e.sent(),[2,this.getOffsetFromResponse()]}})})},A.prototype.getOffset=function(){return l(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this.request({method:"HEAD"})];case 1:return e.sent(),[2,this.getOffsetFromResponse()]}})})},A.prototype.getOffsetFromResponse=function(){var e=this.getValueFromResponse("Upload-Offset");return e?parseInt(e,10):undefined},A);function A(){var e=null!==D&&D.apply(this,arguments)||this;return e.headers={"Tus-Resumable":"1.0.0"},e}var U,L=(c(H,U=q),H.prototype.getFileUrl=function(){return l(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t={"Content-Type":"application/json; charset=utf-8","X-Upload-Content-Length":this.size.toString(),"X-Upload-Content-Type":this.file.type||"application/octet-stream"},[4,this.request({method:"POST",body:JSON.stringify(this.metadata),url:this.endpoint,headers:t})];case 1:if(e.sent(),!(t=this.getValueFromResponse("location")))throw new Error("Invalid or missing Location header");return this.offset=201===this.responseStatus?0:undefined,[2,j(t,this.endpoint)]}})})},H.prototype.sendFileContent=function(){return l(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return t=this.getChunk(),n=t.end,t=t.body,n={"Content-Type":"application/octet-stream","Content-Range":"bytes "+this.offset+"-"+(n-1)+"/"+this.size},[4,this.request({method:"PUT",body:t,headers:n})];case 1:return e.sent(),[2,this.getOffsetFromResponse()]}})})},H.prototype.getOffset=function(){return l(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t={"Content-Type":"application/octet-stream","Content-Range":"bytes */"+this.size},[4,this.request({method:"PUT",headers:t})];case 1:return e.sent(),[2,this.getOffsetFromResponse()]}})})},H.prototype.getOffsetFromResponse=function(){if(201<this.responseStatus){var e=this.getValueFromResponse("Range");return e?M(e)+1:undefined}return this.size},H);function H(){var e=null!==U&&U.apply(this,arguments)||this;return e.responseType="json",e}function M(e){void 0===e&&(e="");e=parseInt(e.split(/-/)[1],10);return 0<=e?e:-1}var N={endpoint:"/upload",autoUpload:!0,concurrency:2,uploaderClass:L,authorize:function(e,t){return t&&(e.headers.Authorization="Bearer "+t),e}},X=new o.InjectionToken("uploadx.factory.options",{providedIn:"root",factory:function(){return N}}),V=new o.InjectionToken("uploadx.options"),Z=(B.prototype.generateId=function(e){return R(JSON.stringify(p({},e.metadata,{type:e.constructor.name,endpoint:e.endpoint}))).toString(16)},B.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],B.ngInjectableDef=o.defineInjectable({factory:function(){return new B},token:B,providedIn:"root"}),B);function B(){}var G=["file","name","progress","remaining","response","responseHeaders","responseStatus","size","speed","status","uploadId","url"],J=(Object.defineProperty($.prototype,"events",{get:function(){return this.eventsStream.asObservable()},enumerable:!0,configurable:!0}),$.prototype.init=function(e){return void 0===e&&(e={}),Object.assign(this.options,e),this.events},$.prototype.connect=function(e){var t=this;return this.init(e).pipe(r.startWith(null),r.map(function(){return t.queue}),r.debounceTime(5))},$.prototype.disconnect=function(){this.queue.forEach(function(e){return e.status="paused"}),this.queue=[]},$.prototype.ngOnDestroy=function(){this.disconnect(),this.subs.forEach(function(e){return e.unsubscribe()})},$.prototype.handleFiles=function(e,t){var n=this;void 0===t&&(t={});var r=p({},this.options,t);this.options.concurrency=r.concurrency,("name"in e?[e]:Array.from(e)).forEach(function(e){return n.addUploaderInstance(e,r)})},$.prototype.control=function(t){(t.uploadId?this.queue.filter(function(e){return e.uploadId===t.uploadId}):this.queue).forEach(function(e){return e.configure(t)})},$.prototype.runningProcess=function(){return this.queue.filter(function(e){e=e.status;return"uploading"===e||"retry"===e}).length},$.prototype.request=function(t){return l(this,void 0,void 0,function(){return h(this,function(e){return t.data=t.body||t.data,[2,this.ajax.request(t)]})})},$.prototype.addUploaderInstance=function(n,r){return l(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=new r.uploaderClass(n,r,this.stateChange,this.ajax),[4,this.idService.generateId(t)];case 1:return t.uploadId=e.sent(),this.queue.push(t),t.status=r.autoUpload&&("undefined"==typeof window||window.navigator.onLine)?"queue":"added",[2]}})})},$.prototype.processQueue=function(){this.queue=this.queue.filter(function(e){return"cancelled"!==e.status}),this.queue.filter(function(e){return"queue"===e.status}).slice(0,Math.max(this.options.concurrency-this.runningProcess(),0)).forEach(function(e){return e.upload()})},$.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],$.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Optional},{type:o.Inject,args:[V]}]},{type:undefined,decorators:[{type:o.Inject,args:[X]}]},{type:undefined,decorators:[{type:o.Inject,args:[g]}]},{type:o.NgZone},{type:Z}]},$.ngInjectableDef=o.defineInjectable({factory:function(){return new $(o.inject(V,8),o.inject(X),o.inject(g),o.inject(o.NgZone),o.inject(Z))},token:$,providedIn:"root"}),$);function $(e,t,n,r,o){var i=this;this.ajax=n,this.ngZone=r,this.idService=o,this.queue=[],this.eventsStream=new s.Subject,this.subs=[],this.stateChange=function(e){i.ngZone.run(function(){return i.eventsStream.next(C(e,G))}),"uploading"!==e.status&&"added"!==e.status&&i.ngZone.runOutsideAngular(function(){return setTimeout(function(){return i.processQueue()})})},this.options=Object.assign({},t,e),"undefined"!=typeof window&&this.subs.push(s.fromEvent(window,"online").subscribe(function(){return i.control({action:"upload"})}),s.fromEvent(window,"offline").subscribe(function(){return i.control({action:"pause"})}))}var Q=(Object.defineProperty(W.prototype,"uploadx",{set:function(e){e&&(this.options=e)},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"control",{set:function(e){e&&this.uploadService.control(e)},enumerable:!0,configurable:!0}),W.prototype.ngOnInit=function(){var t=this,e=this.options,n=e.multiple,e=e.allowedTypes;!1!==n&&this.renderer.setAttribute(this.elementRef.nativeElement,"multiple",""),e&&this.renderer.setAttribute(this.elementRef.nativeElement,"accept",e),this.uploadService.events.pipe(r.takeWhile(function(e){return 0<t.state.observers.length})).subscribe(this.state)},W.prototype.fileListener=function(e){e&&e.item(0)&&this.uploadService.handleFiles(e,this.options)},W.decorators=[{type:o.Directive,args:[{selector:"[uploadx]"}]}],W.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:J}]},W.propDecorators={uploadx:[{type:o.Input}],options:[{type:o.Input}],control:[{type:o.Input}],state:[{type:o.Output}],fileListener:[{type:o.HostListener,args:["change",["$event.target.files"]]}]},W);function W(e,t,n){this.elementRef=e,this.renderer=t,this.uploadService=n,this.options={},this.state=new o.EventEmitter}var Y=(K.prototype.dropHandler=function(e){e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.item(0)&&(e.stopPropagation(),e.preventDefault(),this.active=!1,this.fileInput?this.fileInput.fileListener(e.dataTransfer.files):this.uploadService.handleFiles(e.dataTransfer.files))},K.prototype.onDragOver=function(e){e.dataTransfer&&e.dataTransfer.files&&(e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault(),this.active=!0)},K.prototype.onDragLeave=function(e){this.active=!1},K.decorators=[{type:o.Directive,args:[{selector:"[uploadxDrop]"}]}],K.ctorParameters=function(){return[{type:J}]},K.propDecorators={active:[{type:o.HostBinding,args:["class.uploadx-drop-active"]}],fileInput:[{type:o.ContentChild,args:[Q]}],dropHandler:[{type:o.HostListener,args:["drop",["$event"]]}],onDragOver:[{type:o.HostListener,args:["dragover",["$event"]]}],onDragLeave:[{type:o.HostListener,args:["dragleave",["$event"]]}]},K);function K(e){this.uploadService=e,this.active=!1}ee.withConfig=function(e){return{ngModule:ee,providers:[{provide:V,useValue:e}]}},ee.decorators=[{type:o.NgModule,args:[{declarations:[Q,Y],exports:[Q,Y]}]}],w=ee;function ee(){}e.ErrorType=i,e.RetryHandler=a,e.UploadxAjax=y,e.UPLOADX_AJAX=g,e.Tus=_,e.Uploader=q,e.getRangeEnd=M,e.UploaderX=L,e.UploadxModule=w,e.UploadxService=J,e.resolveUrl=j,e.unfunc=T,e.isNumber=I,e.createHash=R,e.pick=C,e.b64=z,e.DynamicChunk=k,e.UploadxDropDirective=Y,e.UploadxDirective=Q,e.UPLOADX_FACTORY_OPTIONS=X,e.UPLOADX_OPTIONS=V,e.Canceler=m,e.IdService=Z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-uploadx.umd.min.js.map